# –§–∞–∑–∞ 2 - –ß–∞—Å—Ç–∏—á–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–±–µ–∑ Playwright)

## –°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ

**–î–∞—Ç–∞:** 2026-02-19  
**Commits:** `5998f54`, `de90338`

### ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

#### 1. **–ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ Schema.org** (`meta-schema`)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ 15 —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö (–≥–ª–∞–≤–Ω–∞—è + 14 —Å–ª—É—á–∞–π–Ω—ã—Ö –∏–∑ sitemap)
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤: Organization, RealEstateAgent, ApartmentComplex, Product, BreadcrumbList
- ‚úÖ –ê–≥—Ä–µ–≥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∏ –æ—Ü–µ–Ω–∫–∞ –ø–æ–ª–Ω–æ—Ç—ã —Ä–∞–∑–º–µ—Ç–∫–∏
- ‚úÖ Async —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º httpx –∫–ª–∏–µ–Ω—Ç–æ–º
- **–§–∞–π–ª:** `backend/app/checks/check_schema.py`

#### 2. **–°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ (FCP)** (`tech-speed`)
- ‚úÖ –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å Playwright
- ‚úÖ –≠–º—É–ª—è—Ü–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (iPhone 12)
- ‚úÖ –ò–∑–º–µ—Ä–µ–Ω–∏–µ First Contentful Paint
- ‚úÖ –û—Ü–µ–Ω–∫–∞: < 3s = OK, 3-5s = partial, > 5s = problem
- **–§–∞–π–ª:** `backend/app/checks/check_page_speed.py`

#### 3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ sitemap_xml**
- ‚úÖ –¢–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç tuple (CheckResult, List[str])
- ‚úÖ –°–ø–∏—Å–æ–∫ URL –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ check_schema –¥–ª—è –≤—ã–±–æ—Ä–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü

#### 4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ routes/check.py**
- ‚úÖ –§–∞–∑–∞ 1 (–±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏) + –§–∞–∑–∞ 2 (advanced checks)
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ tuple —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –æ—Ç sitemap_xml
- ‚úÖ Async –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è httpx –∫–ª–∏–µ–Ω—Ç–æ–≤

### ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –≤ production (Railway):

**Playwright –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Railway –æ–∫—Ä—É–∂–µ–Ω–∏–∏:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `tech-speed` –ø–∞–¥–∞–µ—Ç —Å exception
- Playwright —Ç—Ä–µ–±—É–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ Railway Nixpacks
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `playwright install --with-deps chromium` –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤ buildCommand

**–†–µ—à–µ–Ω–∏–µ:**
Playwright –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç—Ä–µ–±—É—é—Ç Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å pre-installed –±—Ä–∞—É–∑–µ—Ä–æ–º. Railway Nixpacks –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —ç—Ç–æ –∏–∑ –∫–æ—Ä–æ–±–∫–∏.

### üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:

**–ü—Ä–æ–≤–µ—Ä–æ–∫ –≤ API:** 9 (–±—ã–ª–æ 9, Phase 2 checks –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ results)
- Phase 1: 9 –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ä–∞–±–æ—Ç–∞—é—Ç
- Phase 2: 2 –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ production

**–ü—Ä–∏—á–∏–Ω–∞:**
- `check_page_speed()` –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ Playwright –≤ Railway
- `check_schema_microdata()` —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Ä—è—é—Ç—Å—è –∏–∑-–∑–∞ exception handling

---

## üîß –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ—à–µ–Ω–∏—è:

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û—Ç–∫–ª—é—á–∏—Ç—å Playwright –≤—Ä–µ–º–µ–Ω–Ω–æ ‚úÖ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è MVP)
- –£–±—Ä–∞—Ç—å `check_page_speed` –∏–∑ routes/check.py
- –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ `check_schema` (–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- –§–∞–∑–∞ 2 = —Ç–æ–ª—å–∫–æ Schema.org –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ (1 –Ω–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
- **–ò—Ç–æ–≥–æ:** 10 –ø—Ä–æ–≤–µ—Ä–æ–∫ (9 + 1 Schema)

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å –¥–ª—è FCP
- Google PageSpeed Insights API
- WebPageTest API
- Lighthouse CI
- Pros: —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏, –Ω–µ—Ç headless browser
- Cons: –≤–Ω–µ—à–Ω—è—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å, rate limits, –º–µ–¥–ª–µ–Ω–Ω–µ–µ

### –í–∞—Ä–∏–∞–Ω—Ç 3: Custom Docker –¥–ª—è Railway
- –°–æ–∑–¥–∞—Ç—å Dockerfile —Å pre-installed Playwright
- –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å Railway —Å Nixpacks –Ω–∞ Docker
- Pros: –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
- Cons: —Å–ª–æ–∂–Ω–µ–µ maintenance, –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–±–æ—Ä–∫—É

---

## üìù –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:

**–î–ª—è —Ç–µ–∫—É—â–µ–≥–æ MVP: –í–∞—Ä–∏–∞–Ω—Ç 1**

1. –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å `check_page_speed`
2. –í–∫–ª—é—á–∏—Ç—å —Ç–æ–ª—å–∫–æ `check_schema` 
3. –ü–æ–ª—É—á–∏—Ç—å **10 –ø—Ä–æ–≤–µ—Ä–æ–∫** –≤–º–µ—Å—Ç–æ 11
4. Playwright –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç Docker setup

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- Schema.org –º–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ - –≤–∞–∂–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è SEO
- –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ –±–µ–∑ headless browser
- –ü—Ä–æ—Å—Ç–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- FCP –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ –∫–∞–∫ –§–∞–∑—É 2.5

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ –û—Ç–∫–ª—é—á–∏—Ç—å `check_page_speed` –≤—Ä–µ–º–µ–Ω–Ω–æ
2. ‚úÖ –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å `check_schema` —Ç–æ–ª—å–∫–æ
3. ‚úÖ –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Railway
4. ‚è≠Ô∏è –î–æ–±–∞–≤–∏—Ç—å FCP —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π API (Phase 2.5)
5. ‚è≠Ô∏è –ò–ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Docker –¥–ª—è Playwright (Phase 3+)

---

**–°—Ç–∞—Ç—É—Å:** –§–∞–∑–∞ 2 —á–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤–∞. Schema.org —Ä–∞–±–æ—Ç–∞–µ—Ç, Playwright —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.
