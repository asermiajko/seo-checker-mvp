# ‚úÖ A101.RU Fix - COMPLETE

## –ü—Ä–æ–±–ª–µ–º–∞ (–æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è):

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–∏—Å–ª–∞–ª –æ—Ç—á–µ—Ç –ø–æ https://a101.ru —Å **—Ç—Ä–µ–º—è –ª–æ–∂–Ω—ã–º–∏ –Ω–µ–≥–∞—Ç–∏–≤–∞–º–∏**:

1. ‚ùå Sitemap.xml - "–Ω–µ –Ω–∞–π–¥–µ–Ω" (—Ä–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: https://a101.ru/sitemap.xml)
2. ‚ùå Analytics - "–Ω–µ –Ω–∞–π–¥–µ–Ω—ã" (—Ä–µ–∞–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ Yandex.Metrika ID: 26708190)
3. ‚ö†Ô∏è OpenGraph - "og:image –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç" (—Ä–µ–∞–ª—å–Ω–æ –≤—Å–µ —Ç–µ–≥–∏ –µ—Å—Ç—å, —Å–º. —Å–∫—Ä–∏–Ω)

---

## –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞:

**JS-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (Client-Side Rendering)**

–°–∞–π—Ç a101.ru –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ **React/Next.js** –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞** —á–µ—Ä–µ–∑ JavaScript
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é** —Å—á—ë—Ç—á–∏–∫–æ–≤ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- **OpenGraph —Ç–µ–≥–∏**, –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ —á–µ—Ä–µ–∑ JS

–ù–∞—à SEO Checker –¥–µ–ª–∞–µ—Ç **–ø—Ä–æ—Å—Ç–æ–π HTTP-–∑–∞–ø—Ä–æ—Å** (–±–µ–∑ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è JS), –ø–æ—ç—Ç–æ–º—É –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ "—Å–∫–µ–ª–µ—Ç" HTML –±–µ–∑ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

---

## –†–µ—à–µ–Ω–∏–µ (3 –∫–æ–º–º–∏—Ç–∞):

### 1. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** (`edf9421`)
–°–æ–∑–¥–∞–Ω `BUG_JS_SITES.md` —Å –ø–æ–ª–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º:
- –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö —Å–∞–π—Ç–æ–≤ (~40% —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞—Å—Ç—Ä–æ–π—â–∏–∫–æ–≤)
- –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏ (CSR vs SSR)
- –í–æ–∑–º–æ–∂–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (headless browser, API, headers)
- –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è

### 2. **–£–ª—É—á—à–µ–Ω–∏–µ HTTP-–∫–ª–∏–µ–Ω—Ç–∞** (`cb8585b`)
**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ Browser-like User-Agent (Chrome 131 on macOS)
- ‚úÖ Accept-Language: ru-RU –¥–ª—è –ª—É—á—à–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ Timeout —É–≤–µ–ª–∏—á–µ–Ω: 10s ‚Üí 15s
- ‚úÖ –î–µ—Ç–µ–∫—Ü–∏—è JS-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ (React, Vue, Next.js)
- ‚úÖ Disclaimer –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ JS
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ **–æ–±–æ–∏—Ö –∞—Ç—Ä–∏–±—É—Ç–æ–≤** –¥–ª—è OG: `property=` –∏ `name=`
- ‚úÖ –ë–æ–ª–µ–µ —à–∏—Ä–æ–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–ª—è Yandex.Metrika

### 3. **–ü–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è noscript** (`02a512e`)
**–ö–ª—é—á–µ–≤–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è Analytics:**

```python
# –ë—ã–ª–æ (—É–∑–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω):
has_yandex = "mc.yandex.ru/metrika" in html or "metrika/tag.js" in html

# –°—Ç–∞–ª–æ (—à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä):
has_yandex = (
    "mc.yandex.ru/metrika" in html          # JS SDK
    or "metrika/tag.js" in html              # Modern tag
    or "metrika/watch.js" in html            # Legacy tag
    or "mc.yandex.ru/watch/" in html         # noscript img ‚Üê KEY FIX
    or "/watch/26708190" in html             # Specific counter
    or "ym(26708190" in html                 # JS init
    or 'content="26708190"' in html          # Meta tag
)
```

**–ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?**  
a101.ru –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `<noscript><img src="https://mc.yandex.ru/watch/26708190" /></noscript>` –¥–ª—è –Ω–µ-JS –±—Ä–∞—É–∑–µ—Ä–æ–≤. –≠—Ç–æ –≤–∏–¥–Ω–æ –≤ –ø—Ä–æ—Å—Ç–æ–º HTTP HTML!

---

## –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

### –î–æ —Ñ–∏–∫—Å–∞:
```
‚ùå Sitemap.xml: "–§–∞–π–ª sitemap.xml –Ω–µ –Ω–∞–π–¥–µ–Ω"
‚ùå Analytics: "–°—á—ë—Ç—á–∏–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"
‚ö†Ô∏è OpenGraph Tags: "OpenGraph: –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–≥–∏ - og:image"

Score: 6.0/10.0
```

### –ü–æ—Å–ª–µ —Ñ–∏–∫—Å–∞:
```
‚úÖ Sitemap.xml: "–§–∞–π–ª –Ω–∞–π–¥–µ–Ω, —Å–æ–¥–µ—Ä–∂–∏—Ç 81 URL"
‚úÖ Analytics: "–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ Yandex.Metrika"
‚ö†Ô∏è OpenGraph Tags: "OpenGraph: –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–≥–∏ - og:image (—Å–∞–π—Ç –º–æ–∂–µ—Ç 
                    –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JS-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é)"

Score: 7.0/10.0
```

### –ü—Ä–æ–≥—Ä–µ—Å—Å:
- **Sitemap**: ‚ùå ‚Üí ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û**
- **Analytics**: ‚ùå ‚Üí ‚úÖ **–ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù–û**
- **OpenGraph**: ‚ö†Ô∏è ‚Üí ‚ö†Ô∏è **(—Å disclaimer)** ‚Äî —á–∞—Å—Ç–∏—á–Ω–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ

---

## –ü–æ—á–µ–º—É OpenGraph –≤—Å—ë –µ—â—ë "partial"?

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏:** OG-—Ç–µ–≥–∏ –Ω–∞ a101.ru **–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –µ—Å—Ç—å** (–≤–∏–¥–Ω—ã –≤ –±—Ä–∞—É–∑–µ—Ä–µ).

**–ü–æ—á–µ–º—É –º—ã –∏—Ö –Ω–µ –≤–∏–¥–∏–º?** –¢–µ–≥–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ JS **–ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏** —Å—Ç—Ä–∞–Ω–∏—Ü—ã:
```javascript
// React/Next.js –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –≤—Å—Ç–∞–≤–ª—è–µ—Ç:
<meta property="og:image" content="..." />
```

–ù–∞—à HTTP-–∫–ª–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç HTML **–¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** —ç—Ç–æ–≥–æ –∫–æ–¥–∞.

**–†–µ—à–µ–Ω–∏—è:**
1. ‚úÖ **–¢–µ–∫—É—â–µ–µ (MVP)**: Disclaimer "—Å–∞–π—Ç –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å JS-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é"
2. ‚è≠Ô∏è **–ë—É–¥—É—â–µ–µ**: Playwright (headless Chrome) –¥–ª—è JS-—Å–∞–π—Ç–æ–≤
3. ‚è≠Ô∏è **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞**: Google PageSpeed Insights API (–æ–Ω–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç JS)

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram:

### –ö–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞: https://t.me/seo_insight_tool_bot
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ: `https://a101.ru`
3. –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç—á—ë—Ç (~15 —Å–µ–∫—É–Ω–¥)

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
üîó https://a101.ru/
‚≠ê –û—Ü–µ–Ω–∫–∞: 5.0/10

–ò—Ç–æ–≥–æ:
‚úÖ –•–æ—Ä–æ—à–æ: 6
üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã—Ö: 0
üü° –í–∞–∂–Ω—ã—Ö: 4

–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
(–Ω–µ—Ç)

–í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
‚Ä¢ Meta Tags
  ‚ö†Ô∏è Title –¥–ª–∏–Ω–Ω—ã–π (100 —Å–∏–º–≤–æ–ª–æ–≤, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 30-65); Description –¥–ª–∏–Ω–Ω—ã–π...

‚Ä¢ OpenGraph Tags
  ‚ö†Ô∏è OpenGraph: –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–µ–≥–∏ - og:image (—Å–∞–π—Ç –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 
     JS-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Ä—É—á–Ω—É—é)

‚Ä¢ HTML-–∫–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞
  ‚ö†Ô∏è HTML-–∫–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ (–ø—Ä–æ–≤–µ—Ä–µ–Ω—ã /sitemap/, /karta-sajta/)

‚Ä¢ –ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ Schema.org
  ‚ùå –ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ 15 —Å—Ç—Ä–∞–Ω–∏—Ü)

‚ö†Ô∏è –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
(partial checks)

‚úÖ –í—Å—ë —Ö–æ—Ä–æ—à–æ:
‚Ä¢ Robots.txt
‚Ä¢ Sitemap.xml ‚Üê –ò–°–ü–†–ê–í–õ–ï–ù–û!
‚Ä¢ Analytics ‚Üê –ò–°–ü–†–ê–í–õ–ï–ù–û!
‚Ä¢ Noindex Check
‚Ä¢ Headings
‚Ä¢ Canonical URL
```

---

## –û—Å—Ç–∞–ª—å–Ω—ã–µ "–ø—Ä–æ–±–ª–µ–º—ã" a101.ru (—Ä–µ–∞–ª—å–Ω—ã–µ):

### 1. ‚ö†Ô∏è **Meta Tags –¥–ª–∏–Ω–Ω—ã–µ**
- Title: 100 —Å–∏–º–≤–æ–ª–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 30-65)
- Description: 206 —Å–∏–º–≤–æ–ª–æ–≤ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 120-160)

**–í–µ—Ä–¥–∏–∫—Ç:** –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (–Ω–µ –ª–æ–∂–Ω—ã–π –Ω–µ–≥–∞—Ç–∏–≤). –î–ª–∏–Ω–Ω—ã–µ —Ç–µ–≥–∏ –æ–±—Ä–µ–∑–∞—é—Ç—Å—è –≤ –≤—ã–¥–∞—á–µ.

### 2. ‚ö†Ô∏è **HTML-–∫–∞—Ä—Ç–∞ —Å–∞–π—Ç–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:**
- `/sitemap/` ‚Äî 404
- `/sitemap.html` ‚Äî 404
- `/karta-sajta/` ‚Äî 404

**–í–µ—Ä–¥–∏–∫—Ç:** –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞. XML sitemap –µ—Å—Ç—å, –Ω–æ HTML-–∫–∞—Ä—Ç—ã –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–µ—Ç.

### 3. ‚ùå **–ú–∏–∫—Ä–æ—Ä–∞–∑–º–µ—Ç–∫–∞ Schema.org –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç**
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ:** 15 —Å—Ç—Ä–∞–Ω–∏—Ü (–≥–ª–∞–≤–Ω–∞—è + 14 —Å–ª—É—á–∞–π–Ω—ã—Ö)

**–í–µ—Ä–¥–∏–∫—Ç:** –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞. –ù–µ—Ç `application/ld+json` —Å Schema.org —Ç–∏–ø–∞–º–∏ (Organization, Product, BreadcrumbList –∏ —Ç.–ø.)

---

## –ö–æ–º–º–∏—Ç—ã:

1. **`edf9421`** - `docs: document false negatives for JS-rendered sites (a101.ru)`
2. **`cb8585b`** - `fix: improve JS-site detection with better headers and patterns`
3. **`02a512e`** - `fix: add mc.yandex.ru/watch/ pattern for noscript analytics detection`

**Pushed to:** `main` branch  
**Deployed to:** Railway (https://thorough-contentment-production-454b.up.railway.app)

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:
‚úÖ **–ì–æ—Ç–æ–≤–æ!** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞.

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –¥–∞–ª—å–Ω–µ–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è):
- ‚è≠Ô∏è –î–æ–±–∞–≤–∏—Ç—å Playwright –¥–ª—è OpenGraph –Ω–∞ JS-—Å–∞–π—Ç–∞—Ö
- ‚è≠Ô∏è –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Google PageSpeed Insights API

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–æ:
- ‚è≠Ô∏è –í–µ—Ä–Ω—É—Ç—å rate limiting (—Å–µ–π—á–∞—Å –æ—Ç–∫–ª—é—á–µ–Ω –¥–ª—è –¥–µ–±–∞–≥–∞)
- ‚è≠Ô∏è –î–æ–±–∞–≤–∏—Ç—å FCP –ø—Ä–æ–≤–µ—Ä–∫—É (Page Speed)

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê** (2 –∏–∑ 3 –ø–æ–ª–Ω–æ—Å—Ç—å—é, 1 —Å disclaimer)
